<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: handler.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: handler.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

module.exports = Handler;

/**
 * Constructor.
 * @class  Handler
 * @constructor
 * @param {Object} context the value of `this` in handler callbacks
 *                         basically the owner of the function to be called.
 */
function Handler(context) {
  this.context = context || this;
  this.handlers = {};
  return this;
}

Handler.prototype = (function() {
  return {

    /**
     * Change the context (value of `this`) from which handler methods are called.
     * ie, Handler needs to know who is calling her.
     * 
     * @param  {Object} context   the object that owns the execution method
     * @return {Object} `this` for chaining
     * @memberOf  Handler
     * @instance
     * @method
     */
    setContext: function(context) {
      this.context = context;
      return this;
    },

    /**
     * Register an event handler for a named function.
     * 
     * @param  {String|Function} fn   the function that will call the handler when executed
     * @param  {callback}   handler the handler that we be called by the named function
     * @return {Object} `this` for chaining
     * @memberOf  Handler
     * @instance
     * @method
     */
    on: function(fn, handler) {
      if (this.handlers[fn] === undefined) {
        this.handlers[fn] = [];
      }
      this.handlers[fn].push(handler);
      return this;
    },

    /**
     * executes all handlers attached to the name function.
     * 
     * @param  {(String|Object)} fn the name of the method to executeHandlerute
     * @return {Object} `this` for chaining
     * @memberOf  Handler
     * @instance
     * @method
     */
    executeHandler: function(fn) {
      var handler = this.handlers[fn] || [],
        len = handler.length,
        i;
      for (i = 0; i &lt; len; i++) {
        handler[i].apply(this.context, []);
      }
      return this;
    },

    /**
     * Helper function. Add a click event handler to an element only if that element exists.
     * @param  {jQuery|Object}  $el   the element
     * @param  {Function}       cb    the function to be called by the event handler
     * @return {Object} `this` for chaining
     * @memberOf  Handler
     * @instance
     * @method
     */
    registerClick: function($el, cb) {
      var t = this;
      if (!($el instanceof $)) $el = $($el);
      if (typeof cb === 'function') {
        $el.on('click', function() {
          cb.call(t.context);
        });
      }
      return t;
    },

    /**
     * Add callbacks to the list of handlers. The callbacks must be an object collection of 
     * key-value pairs where the identifier key is the name of a function that calls the executeHandler
     * method with the same name as the key, while the value is the callback 
     * function itself. This method should not be used if only registering a single callback, 
     * for that use {@link #on}.
     * 
     * @param  {Object} callbacks a (preferrably object literal) collection callback functions
     * @return {Object} `this` for chaining
     * @memberOf  Handler
     * @instance
     * @method
     */
    registerCallbacks: function(callbacks) {
      var t = this;
      if (callbacks !== undefined) {
        for (var h in callbacks) {
          if (callbacks.hasOwnProperty(h)) {
            t.on(h, callbacks[h]);
          }
        }
      }
      return t;
    }
  };
})();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Handler.html">Handler</a></li><li><a href="Lap.html">Lap</a></li></ul><h3>Namespaces</h3><ul><li><a href="utils.html">utils</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-lib.html">lib</a></li><li><a href="tutorial-settings.html">settings</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Wed Aug 06 2014 03:56:35 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
