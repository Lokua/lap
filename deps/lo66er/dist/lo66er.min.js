/*! lo66er v0.9.6 | Copyright Â© 2015 Joshua Kleckner | http://opensource.org/licenses/MIT */
!function(a,b){"use strict";function c(a,b,c){var g=a.options,h=g.level;if(!(j.off||h<j.LOG||h>b||h>j.ERROR)){g._activeLevel=b;var i="%s",k=[],m=c[0],n="string"==typeof m;if(c=t.call(c),l)n&&q.test(m)&&(i+=c.shift().replace(r,function(a,b){return"%o"===a?"%j":"%f"===a||"%i"===a?"%d":a})),k.unshift(i,e(a)+f(b,a)+d(a));else{i="%c%s%c%s%c%s%c",n&&(i+=q.test(m)?c.shift().replace(s,"%o"):c.shift());var v="color:"+p[b]+";",w=!1;g.sourceStyle||(g.sourceStyle=v,w=!0),k=[i,g.nameStyle,e(a),g.outputLevel?v:"",g.outputLevel?f(b,a):"",g.outputSource?g.sourceStyle:"",d(a),g.textStyle],w&&(g.sourceStyle=!1)}u.apply(k,c),console[b===j.DEBUG?"log":o[b]].apply(console,k)}}function d(a){var b=a.options,c=b.newLine?"\n	":"";if(!b.outputSource)return c;var d,e=new Error,f="stack"in e?e.stack.split("\n"):null;if(f&&f.length>=3){var g=f[4];if(l)d=g.substr(g.indexOf("at")+3);else{if(""===g&&(g=f[3],""===g))return"";d=g.substr(g.indexOf("at")+2)," "===d.charAt(0)&&(d=d.substr(1))}d=d.replace(/[()]/,""),b.useAbsoluteSource||(d=d.substr(d.lastIndexOf(n)+1)),"("!==d.charAt(0)&&(d="("+d),")"!==d.charAt(d.length-1)&&(d+=")")}return l&&(d=m[p[b._activeLevel]](d)),d+" "+c}function e(a){var b=a.name||"";return l?m.magenta(b):b}function f(a,b){var c=o[a].toUpperCase(),d=b.options;"INFO"===c||"WARN"===c?c=" "+c:"LOG"===c&&(c="  "+c);var e=i(a," "+c+" "),f=d.outputTimestamp?i(d._activeLevel,"["+h()+"] "):"";return e+f}function g(a){return 10>a?"0"+a:a}function h(){var a=new Date;return[g(a.getHours()),g(a.getMinutes()),g(a.getSeconds()),a.getMilliseconds()].join(":")}function i(a,b){return l?m[p[a]](b):b}function j(a,b){var c,d=this;if(b=b||{},!(d instanceof j))return new j(a,b);d.name=a,("number"==typeof b||"string"==typeof b)&&(c=b,b={level:c});for(var e in k)b.hasOwnProperty(e)||(b[e]=k[e]);return d.options=b,j.lo66ers.push(d),d}var k={level:0,outputLevel:!0,outputTimestamp:!1,outputSource:!0,useAbsoluteSource:!1,textStyle:"color:black;",sourceStyle:!1,nameStyle:"color:purple",newLine:!1},l="object"==typeof exports,m=l?require("chalk"):null,n=l?require("path").sep:"/",o=["log","trace","debug","info","warn","error"],p=["gray","gray","green",l?"cyan":"blue",l?"yellow":"darkorange","red","gray"],q=/%[ojdifsc]/,r=/%[ofi]/g,s=/%j/g,t=Array.prototype.slice,u=Array.prototype.push;j.off=!1,j.lo66ers=[],o.forEach(function(a,b){j[a.toUpperCase()]=b}),j.Lo66er=function(a){var b;return j.lo66ers.some(function(c){return c.name===a?b=c:void 0}),b},j.setDefaults=function(a){for(var b in k)a.hasOwnProperty(b)||(a[b]=b);k=a},j.createRequestLo66er=function(a,b){function c(a,b,c){var e=b.statusCode<400?"green":"red",f=Date.now();b.on("finish",function(){d.info("%s %s %s %s",m.yellow(a.method),m.white(a.path||a.url),m[e](b.statusCode),m.cyan(Date.now()-f+"ms"))}),c()}var d=new this(a,{outputSource:!1});for(var e in b)b.hasOwnProperty(e)&&(d.options[e]=e);return c},j.prototype.setLevel=function(a){return this.options.level=a,this},j.prototype.group=function(){return arguments.length?1===arguments.length?console.group(arguments[0]):console.group.apply(console,t.call(arguments,0)):console.group(),this},j.prototype.groupEnd=function(){return console.groupEnd(),this},j.prototype.log=function(){return c(this,0,arguments),this},j.prototype.trace=function(){return c(this,1,arguments),this},j.prototype.debug=function(){return c(this,2,arguments),this},j.prototype.info=function(){return c(this,3,arguments),this},j.prototype.warn=function(){return c(this,4,arguments),this},j.prototype.error=function(){return c(this,5,arguments),this},function(b){"function"==typeof define&&define.amd?define("Lo66er",[],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.Lo66er=b()}(function(){return j})}(this);